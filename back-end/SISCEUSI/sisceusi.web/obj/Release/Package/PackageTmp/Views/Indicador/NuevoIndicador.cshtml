@using sisceusi.entidad
@{
    ViewBag.Title = "NuevoIndicador";
    int idCampana = ViewData["idCampana"] == null ? 0 : (int)ViewData["idCampana"];
    List<CampanaEncuestaBE> listaCampanaEncuesta = ViewData["listaCampanaEncuesta"] == null ? new List<CampanaEncuestaBE>() : (List<CampanaEncuestaBE>)ViewData["listaCampanaEncuesta"];
    Dictionary<string, object> listaIndicador = ViewData["listaIndicador"] == null ? new Dictionary<string, object>() : (Dictionary<string, object>)ViewData["listaIndicador"];
}

@section scripts_footer {
    <script src="@Url.Content("~/Scripts/Sisceusi/indicador_nuevo_indicador.js")"></script>
}

<div class="container-fluid map-root" id="historia"></div>
<div class="container my-4" id="cuerpo">
    <div class="row">
        <div class="col-12">
            <div class="container m-0 px-0 pt-4">
                <div class="row">
                    <div class="col-md-12 col-lg-9">
                        <div class="bg-light py-4 pl-0 w-100">
                            <div class="h3 text-cyan">Mantenimiento de Indicadores&nbsp;</div>                            
                        </div>
                    </div>
                    <div class="col-md-12 col-lg-3">
                        <div class="row">
                            <div class="col-12">
                                <a class="btn btn-plomo w-100 mb-1" href="@Url.Action("Index", "Indicador")">Regresar</a>
                                <button class="btn btn-warning w-100 mb-1 text-white" data-toggle="tooltip" data-placement="left" title="En este formulario usted puede registrar información de un indicador que desee construir en base a las preguntas registradas en la campaña seleccionada. Los indicadores que acá registre, podrán ser apreciados con sus resultados en el dashboard de la plataforma según el sub sector industrial seleccionado."><i class="fas fa-question-circle pr-1"></i>Ayuda</button>
                            </div>
                        </div>
                    </div>
                </div>
                <form>
                    <div class="dropdown-divider"></div>
                    <div class="row">
                        <div class="col-12 mb-4"><strong class="text-cyan">DATOS PRINCIPALES DEL INDICADOR</strong></div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="row">
                                @*<div class="col-xm-12 col-sm-12 col-md-4 col-lg-4">
                                    <div class="form-group">
                                        <label class="font-weight-bold" for="txt-codigo">CÓDIGO</label>
                                        <input class="form-control" type="text" id="txt-codigo" placeholder="Ingrese su código" aria-describedby="inputGroup7" required>
                                    </div>
                                </div>*@
                                <div class="col-xm-12 col-sm-12 col-md-12 col-lg-12">
                                    <div class="form-group">
                                        <label class="font-weight-bold" for="txt-empresa">NOMBRE O DESCRIPCIÓN</label><span class="text-danger font-weight-bold">&nbsp;(*)&nbsp;</span>
                                        <input class="form-control" type="text" id="txt-indicador" placeholder="Ingrese nombre para el indicador" aria-describedby="inputGroup6" required>
                                    </div>
                                </div>
                                @*<div class="col-xm-12 col-sm-12 col-md-3 col-lg-3">
                                    <div class="form-group">
                                        <label class="font-weight-bold">AÑO - CAMPAÑA</label>
                                        <select class="form-control" id="cbo-anio" aria-describedby="inputGroup10" required>
                                            <option>-Seleccione un año-</option>
                                            <option>2022</option>
                                            <option>2023</option>
                                            <option>2024</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-xm-12 col-sm-12 col-md-6 col-lg-6">
                                    <div class="form-group">
                                        <label class="font-weight-bold">CAMPAÑA</label>
                                        <select class="form-control" id="cbo-campania" aria-describedby="inputGroup10" required>
                                            <option>-Seleccione una campaña-</option>
                                            <option>Campaña 01</option>
                                            <option>Campaña 02</option>
                                            <option>Campaña 03</option>
                                        </select>
                                    </div>
                                </div>*@
                                <div class="col-xm-12 col-sm-12 col-md-6 col-lg-6">
                                    <div class="form-group">
                                        <label class="font-weight-bold">PREGUNTA</label><span class="text-danger font-weight-bold">&nbsp;(*)&nbsp;</span>
                                        <select class="form-control" id="cbo-pregunta" aria-describedby="inputGroup10" required>
                                            <option>-Seleccione una pregunta-</option>
                                            <option>Pregunta 01</option>
                                            <option>Pregunta 02</option>
                                            <option>Pregunta 03</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-xm-12 col-sm-12 col-md-6 col-lg-6">
                                    <div class="form-group">
                                        <label class="font-weight-bold">COLUMNA AGRUPACIÓN</label><span class="text-danger font-weight-bold">&nbsp;(*)&nbsp;</span>
                                        <select class="form-control" id="cbo-columna-principal" aria-describedby="inputGroup10" disabled>
                                            <option value="0">-Seleccione una columna-</option>
                                            <option>Columna principal 01</option>
                                            <option>Columna principal 02</option>
                                            <option>Columna principal 03</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-xm-12 col-sm-12 col-md-6 col-lg-6">
                                    <div class="form-group">
                                        <label class="font-weight-bold">COLUMNA CÁLCULO</label><span class="text-danger font-weight-bold">&nbsp;(*)&nbsp;</span>
                                        <select class="form-control" id="cbo-columna-secundaria" aria-describedby="inputGroup10" disabled>
                                            <option value="0">-Seleccione una columna-</option>
                                            <option>Columna secundaria 01</option>
                                            <option>Columna secundaria 02</option>
                                            <option>Columna secundaria 03</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-xm-12 col-sm-12 col-md-6 col-lg-6">
                                    <div class="form-group">
                                        <label class="font-weight-bold">MÉTODO DE CÁLCULO</label><span class="text-danger font-weight-bold">&nbsp;(*)&nbsp;</span>
                                        <select class="form-control" id="cbo-metodo-calculo" aria-describedby="inputGroup10" required>
                                            <option value="0">-Seleccione un método-</option>
                                            <option value="1">Suma</option>
                                            <option value="2">Conteo</option>
                                            <option value="3">Máximo</option>
                                            <option value="4">Mínimo</option>
                                            <option value="5">Promedio</option>
                                        </select>
                                    </div>
                                </div>
                                @*<div class="col-xm-12 col-sm-12 col-md-3 col-lg-3">
                                    <div class="form-group">
                                        <label class="font-weight-bold">ESTADO</label>
                                        <select class="form-control" id="cbo-estado" aria-describedby="inputGroup10" required>
                                            <option value="-1">-Seleccione un estado-</option>
                                            <option value="1">Habilitado</option>
                                            <option value="0">Deshabilitado</option>
                                        </select>
                                    </div>
                                </div>*@
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6"></div>
                        <div class="col-xm-12 col-sm-12 col-md-6 col-lg-6 seccion-mensaje">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="row">
                                <div class="col-xm-12 col-sm-12 col-md-6 col-lg-6"></div>
                                <div class="col-xm-12 col-sm-12 col-md-3 col-lg-3">
                                    <div class="form-group">
                                        <label class="font-weight-bold">&nbsp;</label><a id="btn-cancelar" class="btn btn-secondary w-100 mb-3 d-none" href="javascript:void(0)">Cancelar</a>
                                    </div>
                                </div>
                                <div class="col-xm-12 col-sm-12 col-md-3 col-lg-3">
                                    <div class="form-group">
                                        <label class="font-weight-bold">&nbsp;</label><a id="btn-grabar" class="btn btn-success w-100 mb-3" href="javascript:void(0)">Agregar</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="dropdown-divider"></div>
                    <div class="row">
                        <div class="col-12 mb-4"><strong class="text-cyan">BANDEJA DE INDICADORES</strong></div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="table-responsive tabla-principal">
                                <table id="tbl-indicador" class="table table-striped table-hover">
                                    <thead>
                                        <tr class="bg-azul text-white">
                                            <th scope="col">
                                                <div class="d-flex justify-content-between align-items-center"><span class="d-flex justify-content-between align-items-center"><i class="fas fa-question-circle mr-1" data-toggle="tooltip" data-placement="right" title="Título de ayuda"></i><span>ITEM</span></span></div>
                                            </th>
                                            <th class="text-center" scope="col">
                                                <div class="d-flex justify-content-between align-items-center"><span class="d-flex justify-content-between align-items-center"><i class="fas fa-question-circle mr-1" data-toggle="tooltip" data-placement="right" title="Título de ayuda"></i><span>NOMBRE INDICADOR</span></span></div>
                                            </th>
                                            <th class="text-center" scope="col" style="min-width: 150px;">
                                                <div class="d-flex justify-content-between align-items-center"><span class="d-flex justify-content-between align-items-center"><i class="fas fa-question-circle mr-1" data-toggle="tooltip" data-placement="right" title="Título de ayuda"></i><span>PREGUNTA</span></span></div>
                                            </th>
                                            <th class="text-center" scope="col" style="min-width: 120px;">
                                                <div class="d-flex justify-content-between align-items-center"><span class="d-flex justify-content-between align-items-center"><i class="fas fa-question-circle mr-1" data-toggle="tooltip" data-placement="right" title="Título de ayuda"></i><span>COLUMNA PRINC.</span></span></div>
                                            </th>
                                            <th class="text-center" scope="col">
                                                <div class="d-flex justify-content-between align-items-center"><span class="d-flex justify-content-between align-items-center"><i class="fas fa-question-circle mr-1" data-toggle="tooltip" data-placement="right" title="Título de ayuda"></i><span>COLUMNA SECUN.</span></span></div>
                                            </th>
                                            <th class="text-center" scope="col" style="min-width: 90px;">
                                                <div class="d-flex justify-content-between align-items-center"><span class="d-flex justify-content-between align-items-center"><i class="fas fa-question-circle mr-1" data-toggle="tooltip" data-placement="right" title="Título de ayuda"></i><span>MÉTODO</span></span></div>
                                            </th>
                                            @*<th class="text-center" scope="col" style="min-width: 90px;">
                                                <div class="d-flex justify-content-between align-items-center"><span class="d-flex justify-content-between align-items-center"><i class="fas fa-question-circle mr-1" data-toggle="tooltip" data-placement="right" title="Título de ayuda"></i><span>MUESTRA %</span></span></div>
                                            </th>*@
                                            <th class="text-center" scope="col" style="min-width: 90px;"></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td data-encabezado="Nombre de encabezado secundario" scope="row" data-index="1">
                                                2
                                            </td>
                                            <td class="text-center" data-encabezado="Abreviatura">NOMBRE DE LA CAMPAÑA</td>
                                            <td class="text-center" data-encabezado="Usar abreviatura">NOMBRE DE LA PREGUNTA</td>
                                            <td class="text-center" data-encabezado="Encabezado principal">NOMBRE DEL INDICADOR</td>
                                            <td class="text-left" data-encabezado="Texto de ayuda">SUMA</td>
                                            <td class="text-center" data-encabezado="Tipo de dato">SI</td>
                                            <td class="text-center" data-encabezado="ID Parámetro">SI</td>
                                            <td class="text-center text-xs-right" data-encabezado="Gestión">
                                                <div class="btn btn-sm btn-danger btn-table"><i class="fa fa-trash"></i></div>
                                                <div class="btn btn-sm btn-info btn-table"><i class="fa fa-edit"></i></div>
                                            </td>
                                        </tr>
                                    </tbody>
                                    <tfoot>
                                        <tr>
                                            <td class="text-left pl-0" colspan="3"><span>Resultado:&nbsp;</span><span class="inicio-registros-principal">1</span><span id="view-page-result-principal">-<span class="fin-registros-principal">1</span> de <span class="total-registros-principal">1</span> registros</span></td>
                                            <td id="viewPagination-principal" class="text-right text-xs-left pr-0" colspan="5" style="display: none">
                                                <span>Registros por página&nbsp;</span>
                                                <select id="number-registers-principal">
                                                    <option value="10" selected>10</option>
                                                    <option value="25">25</option>
                                                    <option value="50">50</option>
                                                    <option value="100">100</option>
                                                </select>&nbsp;
                                                <span class="pagina-principal">1</span> de <span class="total-paginas-principal">75</span> páginas&nbsp;
                                                <div class="btn-group btn-group-sm" role="group" aria-label="Basic example">
                                                    <button class="btn btn-success" type="button" onclick="cambiarPaginaPrincipal(1)"><i class="fas fa-angle-double-left"></i></button>
                                                    <button class="btn btn-success" type="button" onclick="cambiarPaginaPrincipal(2)"><i class="fas fa-angle-left"></i></button>
                                                    <input class="ir-pagina-principal" type="number" value="1" min="1">
                                                    <button class="btn btn-success" type="button" onclick="cambiarPaginaPrincipal(3)"><i class="fas fa-angle-right"></i></button>
                                                    <button class="btn btn-success" type="button" onclick="cambiarPaginaPrincipal(4)"><i class="fas fa-angle-double-right"></i></button>
                                                </div>
                                            </td>
                                        </tr>
                                    </tfoot>  
                                </table>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    var idCampana = @idCampana;
    var listaCampanaEncuesta = @Html.Raw(Json.Encode(listaCampanaEncuesta));
    var listaIndicador = @Html.Raw(Json.Encode(listaIndicador));
</script>

<div class="modal fade" id="modalConfirmacion" tabindex="-1" role="dialog" aria-labelledby="modalConfirmacionLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalChatBotLabel">Confirmar eliminación</h5>
                <button class="close" type="button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
                <p>¿Desea eliminar el registro?</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancelar</button>
                <button class="btn btn-danger" id="eliminacionRow" type="button">Aceptar</button>
            </div>
        </div>
    </div>
</div>

